{"ast":null,"code":"import React,{Component}from'react';import Newsitem from'./Newsitem';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default class News extends Component{constructor(){super();this.handlePreviousClick=async()=>{let url=\"https://newsapi.org/v2/top-headlines?country=in&apiKey=5bca79a7a9c94b39884d1c3b0cab473b&page=\".concat(this.state.page+1,\"&pageSize=\").concat(this.props.pageSize);let data=await fetch(url);let parsedData=await data.json();this.setState({});this.setState({page:this.state.page-1,articles:parsedData.articles});};this.handleNextClick=async()=>{if(this.state.page+1>Math.ceil(this.state.totalResult/20)){}else{let url=\"https://newsapi.org/v2/top-headlines?country=in&apiKey=5bca79a7a9c94b39884d1c3b0cab473b&page=\".concat(this.state.page+1,\"&pageSize=\").concat(this.props.pageSize);let data=await fetch(url);let parsedData=await data.json();this.setState({});this.setState({page:this.state.page+1,articles:parsedData.articles});}};this.state={articles:[],loading:false,page:1};}async componentDidMount(){console.log('componentDidMount() always render after the render function');let url=\"https://newsapi.org/v2/top-headlines?country=in&apiKey=5bca79a7a9c94b39884d1c3b0cab473b&page=1&pageSize=\".concat(this.props.pageSize);let data=await fetch(url);let parsedData=await data.json();this.setState({articles:parsedData.articles,totalResult:parsedData.totalResult});}render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"FastNews - Top Headlines \"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.articles.map(element=>{return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-3\",children:/*#__PURE__*/_jsx(Newsitem,{title:element.title?element.title.slice(0,50):\"\",description:element.description?element.description.slice(0,40):\"\",imageUrl:element.urlToImage?element.urlToImage:\"https://cdn.vox-cdn.com/thumbor/Zoc7c7NvPhp3QpOUwsky70QU3zM=/0x0:1200x628/fit-in/1200x630/cdn.vox-cdn.com/uploads/chorus_asset/file/24265929/goldenidol.jpeg\",newsUrl:element.url})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:this.state.page<1,className:\"btn btn-success\",onClick:this.handlePreviousClick,children:\"\\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success\",onClick:this.handleNextClick,children:\"Next \\u2192\"})]})]});}}","map":{"version":3,"names":["React","Component","Newsitem","jsx","_jsx","jsxs","_jsxs","News","constructor","handlePreviousClick","url","concat","state","page","props","pageSize","data","fetch","parsedData","json","setState","articles","handleNextClick","Math","ceil","totalResult","loading","componentDidMount","console","log","render","className","children","map","element","title","slice","description","imageUrl","urlToImage","newsUrl","type","disabled","onClick"],"sources":["/home/amit-pc/Documents/react 1/News_React_app/src/components/News.js"],"sourcesContent":["import React, { Component } from 'react'\nimport Newsitem from './Newsitem'\n\nexport default class News extends Component {\n  \n\n    constructor(){\n        super();\n        this.state = {\n            articles :[],\n            loading:false,\n            page:1\n        }\n    }\n\n    async componentDidMount(){\n\n        console.log('componentDidMount() always render after the render function')\n        let url =`https://newsapi.org/v2/top-headlines?country=in&apiKey=5bca79a7a9c94b39884d1c3b0cab473b&page=1&pageSize=${this.props.pageSize}`;\n        let data = await fetch(url);\n        let parsedData = await data.json()\n        this.setState({articles: parsedData.articles,totalResult:parsedData.totalResult})\n    }\n\n    handlePreviousClick= async()=>{\n\n        let url =`https://newsapi.org/v2/top-headlines?country=in&apiKey=5bca79a7a9c94b39884d1c3b0cab473b&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n        let data = await fetch(url);\n        let parsedData = await data.json()\n        this.setState({})\n\n        this.setState({\n            page: this.state.page - 1,\n            articles: parsedData.articles\n        })\n        \n    }\n\n    handleNextClick= async()=>{\n        if( this.state.page + 1 > Math.ceil(this.state.totalResult/20)){\n\n        }\n        else{\n        let url =`https://newsapi.org/v2/top-headlines?country=in&apiKey=5bca79a7a9c94b39884d1c3b0cab473b&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n        let data = await fetch(url);\n        let parsedData = await data.json()\n        this.setState({})\n\n        this.setState({\n            page: this.state.page + 1,\n            articles: parsedData.articles\n        })\n\n    }\n       \n\n    }\n\n  render() {\n    return (\n      <div className=\"container my-3\">\n        <h1 className='text-center'>FastNews - Top Headlines </h1>\n        \n        <div className=\"row\">\n        {this.state.articles.map((element)=>{\n            return <div className=\"col-md-4 mb-3\" key={element.url}>\n            <Newsitem  title={element.title?element.title.slice(0,50):\"\"} description={element.description?element.description.slice(0,40):\"\"} imageUrl={element.urlToImage?element.urlToImage:\"https://cdn.vox-cdn.com/thumbor/Zoc7c7NvPhp3QpOUwsky70QU3zM=/0x0:1200x628/fit-in/1200x630/cdn.vox-cdn.com/uploads/chorus_asset/file/24265929/goldenidol.jpeg\"} newsUrl={element.url} />\n          </div>\n        })}\n            \n        </div>\n        <div className=\"container d-flex justify-content-between\">\n        <button type=\"button\" disabled={this.state.page<1} className=\"btn btn-success\" onClick={this.handlePreviousClick}>&larr; Previous</button>\n        <button type=\"button\" className=\"btn btn-success\" onClick={this.handleNextClick}>Next &rarr;</button>\n        </div>\n\n      </div> \n    )\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}